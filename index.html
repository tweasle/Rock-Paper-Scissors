<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    
</body>
<script> 
  function getComputerSelection () {
    let computerSelection;
    let selectionNumber = Math.floor(Math.random() * 3);
    if (selectionNumber === 0) {
      computerSelection = `rock`;
    } else if (selectionNumber === 1) {
      computerSelection = `paper`;
    } else {
      computerSelection = `scissors`;
    }
    return computerSelection;
  }

  function returnStatement (rockPaperScissorsResults, computerSelection, playerSelection) {
    if (rockPaperScissorsResults === "win") {
      return `You win, ${playerSelection} beats ${computerSelection} :)`;
    } else if (rockPaperScissorsResults === "loss") {
      return `You lose, ${playerSelection} can't beat ${computerSelection} :(`;
    } else if (rockPaperScissorsResults === "tie") {
      return `It's a tie, ${playerSelection} ties ${computerSelection} :|`;
    }
  }

  function evaluate (computerSelection, playerSelection) {

    if (computerSelection === "rock" && playerSelection === "rock") {
      return "tie";
    }
    if (computerSelection === "rock" && playerSelection === "paper") {
      return "win";
    }
    if (computerSelection === "rock" && playerSelection === "scissors") {
      return "loss";
    }
    if (computerSelection === "paper" && playerSelection === "rock") {
      return "loss";
    }
    if (computerSelection === "paper" && playerSelection === "paper") {
      return "tie";
    }
    if (computerSelection === "paper" && playerSelection === "scissors") {
      return "win";
    }
    if (computerSelection === "scissors" && playerSelection === "rock") {
      return "win";
    }
    if (computerSelection === "scissors" && playerSelection === "paper") {
      return "loss";
    }
    if (computerSelection === "scissors" && playerSelection === "scissors") {
      return "tie";
    }
  }

  function game () {
    for (i=0; i<5;) {
      let playerSelection = prompt("Rock, Paper, or Scissors?");

      playerSelection = playerSelection.toLowerCase();
    
      if (playerSelection != "rock" && playerSelection != "paper" && playerSelection != "scissors") {
        console.log("That is not a valid input, please try again");
      } else {
        let computerSelection = getComputerSelection();
        console.log(returnStatement(evaluate(computerSelection, playerSelection), computerSelection, playerSelection));
        i++;
      }
    }
  }

  let yesOrNo = prompt('Wanna play Rock Paper Scissors?', 'y or n');
  if (typeof(yesOrNo) != "string") {
    yesOrNo = yesOrNo.toLowerCase();
  }

  if (yesOrNo === "y") {
    console.log("Great, here we go!");
    game();
  } else {
    console.log("Sorry to hear that. Have a good day");
  }

</script>
</html>